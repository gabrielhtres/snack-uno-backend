create table restaurant(
	id_restaurant serial primary key not null,
	nameRestaurant varchar(45) not null,
	localization varchar(255) not null,
	openClose time[] not null,
	delivery boolean not null,
	priceDelivery float not null
);

create table product(
	id_product serial primary key not null,
	name varchar(45) not null,
	price float not null,
	description varchar(255) not null,
	flavor varchar(45)[],
	image varchar(255) not null,
	id_restaurant integer not null,
	foreign key (id_restaurant) references restaurant (id_restaurant),
	stock integer not null
);

create table request(
	id_request serial primary key not null,
	totalPrice float not null,
	data timestamp not null,
	status_request varchar(45) not null
);

create table requestProduct(
	id_requestProduct serial primary key not null,
	id_product integer not null,
	id_request integer not null,
	foreign key (id_product) references product (id_product),
	foreign key (id_request) references request (id_request),
	quantity integer not null,
	priceTotal float not null
);

create table users(
	id_user serial primary key not null,
	name varchar(45) not null,
	cpf varchar(45) not null,
	data_birth date not null,
	telephone varchar(45) not null,
	email varchar(40) not null unique,
	password varchar(100) not null
);

create table creditCards(
    id_creditCard integer not null primary key unique,
    name varchar(60),
    card_number varchar(16),
    expiration date,
    code char[3],
    id_user integer,
    FOREIGN key (id_user) references users (id_user)
);

select * from restaurant;
select * from product;
select * from request;
select * from requestProduct;
select * from users;

DELETE FROM users WHERE id_user >= 1;

drop table creditcards;
drop table users;
drop table requestProduct;
drop table request;
drop table product;
drop table restaurant;

// json product prototype to use at postman and why I writing in english aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaahhhhhhhhhhhhhhhhhhhhhhhh
{
    "name": "Espetinho",
    "price": 10.00,
    "description": "Espetinho de carne",
    "flavor": ["Carne", "Cheddar"],
    "image": "http://www.google.com",
    "id_restaurant": 1,
    "stock": 10
}

// json create user prototype 
{
	"name": "Eduardo Langner",
	"cpf": "123456789",
	"data_birth": "01/01/1990",
	"telephone": "123456789",
	"email": "test5",
	"password": "test5"
}

// json create restaurant prototype
{
	"nameRestaurant": "Restaurante Teste",
	"localization": "Rua Teste, 123",
	"openClose": {03:00, 10:20},
	"delivery": true,
	"priceDelivery": 10.00
}

// json create request prototype
{
	"totalPrice": 10.00,
	"data": "01/01/2020",
	"status_request": "Pendente"
}

// json login usser prototype
{
    "email": "test5",
	"password": "test5"
}


INSERT INTO restaurant(nameRestaurant, localization, openClose, delivery, priceDelivery) VALUES ('Restaurante 1', 'Rua 1', '{03:00, 10:20}', true, 4);
INSERT INTO restaurant(nameRestaurant, localization, openClose, delivery, priceDelivery) VALUES ('Restaurante 2', 'Rua 2', '{03:00, 10:20}', true, 3);

INSERT INTO request(totalPrice, data, status_request) VALUES (10.00, '01/01/2020', 'Pendente');

INSERT INTO product(name, price, description, flavor, image, id_restaurant, stock) 
    VALUES ('Pizza', 10.00, 'Pizza', '{"Cu", "Pica"}', 'pizza.jpg', 1, 10);
INSERT INTO product(name, price, description, flavor, image, id_restaurant, stock) 
    VALUES ('Pastel', 10.00, 'Pastel', '{"Chocolate", "Morango"}', 'pastel.jpg', 1, 10);
INSERT INTO product(name, price, description, flavor, image, id_restaurant, stock) 
    VALUES ('Espetinho', 10.00, 'Espetinho', '{"Chocolate", "Morango"}', 'espetinho.jpg', 1, 10);